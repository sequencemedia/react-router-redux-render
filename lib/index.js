"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.render=exports.renderToString=void 0;var _react=_interopRequireDefault(require("react"));var _server=_interopRequireDefault(require("react-dom/server"));var _boom=_interopRequireDefault(require("@hapi/boom"));var _app=_interopRequireDefault(require("./app"));const badImplementation=(e,data)=>_boom.default.boomify(e,{statusCode:500,message:'Rendering exception in ReactDOMServer.renderToString()',data});const notFound=data=>_boom.default.notFound('Route match exception in ReactDOMServer.renderToString()',data);const renderApp=({store,location,context,routes})=>{try{return _server.default.renderToString(_react.default.createElement(_app.default,{store:store,router:{location,context},routes:routes}));}catch(e){throw badImplementation(e,{location,context});}};const renderToString=(store,routes,location,context={})=>renderApp({store,routes,location,context})||function(e){throw e;}(notFound({location,context}));exports.renderToString=renderToString;const render=async(store,routes,location,context={})=>renderApp({store,routes,location,context})||function(e){throw e;}(notFound({location,context}));exports.render=render;