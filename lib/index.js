"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.render=exports.renderToStaticMarkup=exports.renderToString=void 0;var _react=_interopRequireDefault(require("react"));var _server=_interopRequireDefault(require("react-dom/server"));var _reactRedux=require("react-redux");var _reactRouterDom=require("react-router-dom");var _boom=_interopRequireDefault(require("@hapi/boom"));const badImplementation=(e,data)=>_boom.default.boomify(e,{statusCode:500,message:'Rendering exception',data});const notFound=data=>_boom.default.notFound('Routing exception',data);const getReactDOMServerRenderToString=(store,props,routes)=>{try{return _server.default.renderToString(_react.default.createElement(_reactRedux.Provider,{store:store},_react.default.createElement(_reactRouterDom.StaticRouter,props,routes)));}catch(e){throw badImplementation(e,props);}};const getReactDOMServerRenderToStaticMarkup=(store,props,routes)=>{try{return _server.default.renderToStaticMarkup(_react.default.createElement(_reactRedux.Provider,{store:store},_react.default.createElement(_reactRouterDom.StaticRouter,props,routes)));}catch(e){throw badImplementation(e,props);}};const renderToString=(store,{location,context={},...props}={},routes={})=>getReactDOMServerRenderToString(store,{...props,location,context},routes)||function(e){throw e;}(notFound({location,context}));exports.renderToString=renderToString;const renderToStaticMarkup=(store,{location,context={},...props}={},routes={})=>getReactDOMServerRenderToStaticMarkup(store,{...props,location,context},routes)||function(e){throw e;}(notFound({location,context}));exports.renderToStaticMarkup=renderToStaticMarkup;const render=async(store,{location,context={},...props}={},routes={})=>getReactDOMServerRenderToString(store,{...props,location,context},routes)||function(e){throw e;}(notFound({location,context}));exports.render=render;